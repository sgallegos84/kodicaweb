<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Alumno</title>
    <!-- Iconos y Tipografía -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/dashboard.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-brand">Alumno</div>
        <button class="navbar-toggle">&#9776;</button>
        <div class="navbar-links" id="navbarLinks">
            <a href="#" id="nav-inicio">Inicio</a>
            <a href="#" id="nav-resumen">Resumen IA de Apuntes</a>
            <a href="#" id="nav-guia-ia">Guía de Estudio IA</a>
            <a href="../index.html">Cerrar Sesión</a>
        </div>
    </nav>
    <div id="dashboardPrincipal">
        <div class="dashboard-container">
            <h2>Horario de Clases</h2>
            <table>
                <thead>
                    <tr>
                        <th>Hora</th>
                        <th>Lunes</th>
                        <th>Martes</th>
                        <th>Miércoles</th>
                        <th>Jueves</th>
                        <th>Viernes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td data-label="Hora">8:00 - 9:00</td>
                        <td data-label="Lunes">Matemáticas</td>
                        <td data-label="Martes">Español</td>
                        <td data-label="Miércoles">Ciencias</td>
                        <td data-label="Jueves">Historia</td>
                        <td data-label="Viernes">Educación Física</td>
                    </tr>
                    <tr>
                        <td data-label="Hora">9:00 - 10:00</td>
                        <td data-label="Lunes">Inglés</td>
                        <td data-label="Martes">Matemáticas</td>
                        <td data-label="Miércoles">Español</td>
                        <td data-label="Jueves">Ciencias</td>
                        <td data-label="Viernes">Arte</td>
                    </tr>
                    <tr>
                        <td data-label="Hora">10:00 - 10:30</td>
                        <td data-label="Actividad" colspan="5">Receso</td>
                    </tr>
                    <tr>
                        <td data-label="Hora">10:30 - 11:30</td>
                        <td data-label="Lunes">Ciencias</td>
                        <td data-label="Martes">Historia</td>
                        <td data-label="Miércoles">Educación Física</td>
                        <td data-label="Jueves">Matemáticas</td>
                        <td data-label="Viernes">Español</td>
                    </tr>
                </tbody>
            </table>
            <div class="tasks-header">
                <h2>Mis Tareas</h2>
                <div class="progress-container">
                    <p>Progreso de la semana</p>
                    <div class="progress-bar">
                        <div id="tasks-progress" class="progress-bar-fill"></div>
                    </div>
                </div>
            </div>
            <!-- Contenedor para las tarjetas de tareas -->
            <div id="task-cards-container" class="task-cards-container">
                <!-- Las tarjetas de tareas se insertarán aquí por JS -->
            </div>

            <!-- Modal para subir fotos -->
            <div id="modalTarea" class="modal hidden">
                <div class="modal-content">
                    <span id="btn-cerrar-modal" class="modal-close">&times;</span>
                    <h3 id="modalTitulo"></h3>
                    <input type="file" id="inputFotos" multiple accept="image/*"><br><br>
                    <div id="previewFotos"></div>
                    <div id="iaTexto" style="margin:10px 0; color:#2193b0;"></div>
                    <button id="btn-confirmar-envio">Confirmar y Guardar</button>
                </div>
            </div>

            <!-- Formulario para crear tarea -->
            <div id="formTareaContainer" class="hidden" style="margin-top:20px;">
                <h2>Crear Tarea</h2>
                <form id="formTarea">
                    <label for="tareaNombre">Nombre de la tarea:</label>
                    <input type="text" id="tareaNombre" required>
                    <label for="tareaMateria">Materia:</label>
                    <select id="tareaMateria" required>
                        <option value="">Seleccione</option>
                        <option value="Matemáticas">Matemáticas</option>
                        <option value="Español">Español</option>
                        <option value="Ciencias">Ciencias</option>
                        <option value="Inglés">Inglés</option>
                        <option value="Historia">Historia</option>
                        <option value="Educación Física">Educación Física</option>
                        <option value="Arte">Arte</option>
                    </select>
                    <label for="tareaFecha">Fecha de entrega:</label>
                    <input type="date" id="tareaFecha" required>
                    <button type="submit">Crear Tarea</button>
                    <button type="button" id="btn-cancelar-tarea">Cancelar</button>
                </form>
            </div>

            <!-- Formulario para crear apunte -->
            <div id="formApunteContainer" class="hidden" style="margin-top:20px;">
                <h2>Subir Apunte</h2>
                <form id="formApunte">
                    <label for="apunteMateria">Materia:</label>
                    <select id="apunteMateria" required>
                        <option value="">Seleccione</option>
                        <option value="Matemáticas">Matemáticas</option>
                        <option value="Español">Español</option>
                        <option value="Ciencias">Ciencias</option>
                        <option value="Inglés">Inglés</option>
                        <option value="Historia">Historia</option>
                        <option value="Educación Física">Educación Física</option>
                        <option value="Arte">Arte</option>
                    </select>
                    <label for="apunteArchivo">Archivo (PDF, DOCX):</label>
                    <input type="file" id="apunteArchivo" accept="image/*,.pdf,.docx" capture="environment" required>
                    <button type="submit">Subir Apunte</button>
                    <button type="button" id="btn-cancelar-apunte">Cancelar</button>
                </form>
            </div>

            <div class="main-actions">
                <button id="btn-toggle-tarea" class="btn-main-action"><i class="fas fa-plus"></i> Crear Tarea</button>
                <button id="btn-toggle-apunte" class="btn-main-action"><i class="fas fa-book-open"></i> Subir Apunte</button>
            </div>
        </div>
    </div>
    <div id="resumenIA" class="hidden">
        <h2 style="color:#2193b0;">Resumen IA de Apuntes por Materia</h2>
        <label for="materiaResumen">Selecciona materia:</label>
        <select id="materiaResumen">
            <option value="">Todas</option>
            <option value="Matemáticas">Matemáticas</option>
            <option value="Español">Español</option>
            <option value="Ciencias">Ciencias</option>
            <option value="Inglés">Inglés</option>
            <option value="Historia">Historia</option>
            <option value="Educación Física">Educación Física</option>
            <option value="Arte">Arte</option>
        </select>
        <div id="contenedorResumen" style="margin-top:20px;"></div>
    </div>
    <div id="guiaEstudioIA" class="hidden">
        <h2 style="color:#2193b0;">Generador de Guía de Estudio con IA</h2>
        <p>La IA analizará todos tus apuntes para generar una guía de estudio personalizada, un cuestionario de práctica y un PDF descargable.</p>
        <div class="actions-container">
            <button id="btn-generar-guia">Generar Guía de Estudio</button>
            <button id="btn-exportar-pdf" class="hidden">Exportar a PDF</button>
        </div>
        <div id="resultadoGuia" class="hidden">
            <h3>Tu Guía de Estudio Personalizada:</h3>
            <div id="contenidoGuia"></div>
            
            <div id="cuestionarioContainer" class="hidden">
                <hr>
                <h3>Cuestionario de Práctica</h3>
                <p>Pon a prueba tus conocimientos con estas preguntas generadas por la IA.</p>
                <button id="btn-iniciar-cuestionario">Iniciar Cuestionario</button>
                <div id="cuestionarioForm" style="margin-top: 15px;"></div>
                <div id="cuestionarioResultado"></div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="../js/student-dashboard.js"></script>
</body>
</html>